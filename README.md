
# CBR Currency Rates API

### –°–µ—Ä–≤–∏—Å –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ë–∞–Ω–∫–∞ –†–æ—Å—Å–∏–∏

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç –∏ –∫—Ä–æ—Å—Å-–∫—É—Ä—Å–æ–≤ —Å —Å–∞–π—Ç–∞ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ë–∞–Ω–∫–∞ –†–æ—Å—Å–∏–∏ (CBR.RU). –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç** - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å cbr.ru
- **–†–∞—Å—á–µ—Ç –∫—Ä–æ—Å—Å-–∫—É—Ä—Å–æ–≤** - –æ–±–º–µ–Ω –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≤–∞–ª—é—Ç–∞–º–∏
- **–î–∏–Ω–∞–º–∏–∫–∞ –∫—É—Ä—Å–æ–≤** - —Ä–∞–∑–Ω–∏—Ü–∞ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º —Ç–æ—Ä–≥–æ–≤—ã–º –¥–Ω–µ–º
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Redis
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RabbitMQ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π Swagger UI

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–î–∞—Ç–∞** - –¥–∞—Ç–∞ –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç—ã
- **–ö–æ–¥ –≤–∞–ª—é—Ç—ã** - —Ç—Ä—ë—Ö–±—É–∫–≤–µ–Ω–Ω—ã–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: USD, EUR)
- **–ë–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞** - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é RUR (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ó–Ω–∞—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞** - —Ç–µ–∫—É—â–∏–π –∫—É—Ä—Å –≤–∞–ª—é—Ç—ã
- **–†–∞–∑–Ω–∏—Ü–∞ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –¥–Ω—ë–º** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–∞

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|--------|------------|
| **PHP** | 8.5 | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| **Symfony** | 8.0 | Web-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **RabbitMQ** | latest | –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π |
| **Redis** | latest | –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |
| **Docker** | latest | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è |
| **PHPUnit** | latest | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

> Docker –∏ Docker Compose –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ.

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏, –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
- [Step-by-Step Tutorial: Installing Docker and Docker Compose on Ubuntu](https://medium.com/@tomer.klein/step-by-step-tutorial-installing-docker-and-docker-compose-on-ubuntu-a98a1b7aaed0)
- [Install Docker Engine on Ubuntu (Official Docs)](https://docs.docker.com/engine/install/ubuntu/)

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

**–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/ozor/cbr-currencies.git
cd cbr-currencies/php-symfony-rabbit
```

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
```bash
docker-compose up --build -d
```

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
docker-compose exec app composer install
```

–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8090`

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### API Endpoints

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç—ã –∫ —Ä—É–±–ª—é
```bash
curl -X GET http://localhost:8090/api/v1/cbr/rates/2021-10-01/USD
```

**–ü—Ä–∏–º–µ—Ä –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
- http://localhost:8090/api/v1/cbr/rates/2021-10-01/USD

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—Ä–æ—Å—Å-–∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç
```bash
curl -X GET http://localhost:8090/api/v1/cbr/rates/2021-10-01/USD/JPY
```

**–ü—Ä–∏–º–µ—Ä –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
- http://localhost:8090/api/v1/cbr/rates/2021-10-01/USD/JPY

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI (Swagger UI) –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
- **http://localhost:8090/api/doc**

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ unit-—Ç–µ—Å—Ç–æ–≤:
```bash
docker-compose exec app vendor/bin/phpunit
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
php-symfony-rabbit/
‚îú‚îÄ‚îÄ üìÇ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ üìÇ src/             # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Controller/     # API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ Service/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Messenger/      # RabbitMQ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ Repository/     # –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ üìÇ tests/           # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ üìÇ docker/          # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ üìÑ docker-compose.yaml
```
